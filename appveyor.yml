# See http://www.appveyor.com/docs/appveyor-yml for reference

#---------------------------------#
#      general configuration      #
#---------------------------------#

environment:
  PRIMARY_CSPROJ: Mayflower\Mayflower.csproj

#version: $(NUGET_RELEASE_VERSION).{build}

#---------------------------------#
#    environment configuration    #
#---------------------------------#

image: Visual Studio 2017 RC

install:
  - ps: Scripts\PatchCsproj.ps1

#---------------------------------#
#       build configuration       #
#---------------------------------#

platform: Any CPU

configuration: Release

build:
  project: Mayflower.sln
  publish_nuget: true
  publish_nuget_symbols: true
  verbosity: normal

#---------------------------------#
#       tests configuration       #
#---------------------------------#



#---------------------------------#
#      artifacts configuration    #
#---------------------------------#

#artifacts:
#  - path: MayflowerCLI\bin\$(configuration)\mayflower.exe

#---------------------------------#
#     deployment configuration    #
#---------------------------------#

#deploy:
#
#  - provider: GitHub
#    release: $(APPVEYOR_REPO_TAG_NAME)
#    auth_token:
#      secure: gbdN6iXbtLTk1MiBecxRJvdoc6fR6x4AEFAQNuZ+UMR9NvQnXW12PXfd16gtGVGp
#    artifact: /^.*(\.nupkg|mayflower\.exe)$/
#    draft: false
#    prerelease: false
#    on:
#      appveyor_repo_tag: true
#
#  # for pre-release versions
#  - provider: NuGet
#    api_key:
#      secure: NiH62CvEa6ztPGnR9glvKexCL5sJStB62JcJ/8CcVJJAj7rkCzZvfN87E5xPpNd0
#    artifact: /.*\.nupkg/
#    skip_symbols: false
#    on:
#      branch: master
#
#  # for release versions
#  - provider: NuGet
#    api_key:
#      secure: NiH62CvEa6ztPGnR9glvKexCL5sJStB62JcJ/8CcVJJAj7rkCzZvfN87E5xPpNd0
#    artifact: /.*\.nupkg/
#    skip_symbols: false
#    on:
#      appveyor_repo_tag: true

